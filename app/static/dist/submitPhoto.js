import{l,s as f,c,h as g}from"./chunk-bAx52a36.js";function m(){const s=document.getElementById("submitPhotoForm");if(!s){l.error("submitPhotoForm element not found on page.");return}let t=!1;s.addEventListener("submit",function(a){if(a.preventDefault(),t)return;t=!0;const r=s.querySelector('input[name="photo"]'),e=r?r.files[0]:null;if(e&&e.type.startsWith("video/")&&e.size>10*1024*1024){o("Video must be 10 MB or smaller.","error"),t=!1;return}if(e&&e.type.startsWith("image/")&&e.size>8*1024*1024){o("Image must be 8 MB or smaller.","error"),t=!1;return}f();const d=new FormData(s);c(s.action,{method:"POST",body:d}).then(({status:n,json:i})=>{if(n===200&&i.success)o(i.message,"success"),window.location.href=i.redirect_url;else{const u=i.message||"Upload failed";o(u,"error")}}).catch(n=>{l.error("Submission error:",n),o("Error during submission: "+n.message,"error")}).finally(()=>{t=!1,g()})});function o(a,r){const e=document.getElementById("flash-messages");e?e.innerHTML=`
                <div class="flash-message ${r}">
                    ${a}
                </div>
            `:l.warn("Flash messages container not found.")}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",m):m();
