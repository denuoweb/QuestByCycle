const s={log:(...e)=>console.log(...e),error:(...e)=>console.error(...e),warn:(...e)=>console.warn(...e),info:(...e)=>console.info(...e),debug:(...e)=>console.debug(...e)};function c(){const e=document.querySelector('meta[name="csrf-token"]');return e?e.getAttribute("content"):""}function a(){const e=document.querySelector('meta[name="debug-mode"]');return(e==null?void 0:e.getAttribute("content"))==="true"}async function d(e,n={}){const o={credentials:"same-origin",...n},t=await fetch(e,o),r=await t.json().catch(()=>({}));return{status:t.status,json:r}}async function i(e,n={}){const o={...n.headers||{}};return a()||(o["X-CSRF-Token"]=c()),d(e,{...n,headers:o})}function l(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}typeof window<"u"&&(window.getCSRFToken=c,window.isDebugMode=a,window.fetchJson=d,window.csrfFetchJson=i,window.escapeHTML=l);function g(){s.debug("Showing loading modal"),document.getElementById("loadingModal").style.display="flex"}function u(){s.debug("Hiding loading modal"),document.getElementById("loadingModal").style.display="none"}export{i as c,l as e,d as f,c as g,u as h,s as l,g as s};
