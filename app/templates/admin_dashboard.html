{% extends "layout.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<h1>Admin Dashboard</h1>
<div>Welcome, {{ current_user.username }}! This is the admin dashboard.</div>

<div><a href="{{ url_for('events.create_event') }}" class="btn btn-primary">Create New Event</a></div>
<div><a href="{{ url_for('admin.user_management') }}" class="btn btn-secondary">Manage Users</a></div>
<div class="event-list">
    {% for event in events %}
        <div class="event">
            <!-- Display event details here -->
            <h2>{{ event.title }}</h2>
            <p>{{ event.description }}</p>
            <!-- Delete button for the event -->
            <form action="{{ url_for('events.delete_event', event_id=event.id) }}" method="post" onsubmit="return confirm('Are you sure you want to delete this event?');">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
                <button type="submit" class="btn btn-danger">Delete Event</button>
            </form>
        </div>
    {% else %}
        <p>No events found.</p>
    {% endfor %}
</div>
{% endblock %}
