{% extends "layout.html" %}

{% block content %}
<div class="container">

    <div class="welcomeImage">
        <img src="{{ url_for('static', filename='images/welcomeBikeHunt.png') }}" alt="Welcome to Bike Hunt" style="max-width: 600px; max-height: 300px;">
    </div>

    <div class="introduction">
        <strong><p>BikeHunt is a community-wide motivational game designed to encourage cycling and outdoor activities. Participants can join various events, complete tasks, and earn points to climb up the leaderboard. It's a fun way to stay active, explore your surroundings, and connect with fellow cycling enthusiasts.</p></strong>
    </div>
    <div class="content-flex-container">

        <div class="events-column">
            <h2>Events</h2>
            {% for event in events %}
            <div class="event-item">
                <h3>{{ event.title }}</h3>
                <p>{{ event.description }}</p>
                <a href="{{ url_for('events.event_detail', event_id=event.id) }}" class="blue_button">View Details</a>
            </div>
            {% endfor %}
        </div>
    
        <div class="shout-board-column">
            <h2>Current Activities</h2>
            <div class="event-item">
                {% if current_user.is_admin %}

                    <form action="{{ url_for('main.shout_board') }}" method="post">
                        {{ form.hidden_tag() }}
                        <div class="form-group">
                            {{ form.message.label }} {{ form.message(rows=3) }}
                        </div>
                        {{ form.submit() }}
                    </form>
                {% endif %}    
                <div class="shout-messages">
                    {% for message in messages %}
                    <div class="message">
                        <strong>{{ message.user.username }}</strong>: {{ message.message }}
                        <form action="{{ url_for('main.like_message', message_id=message.id) }}" method="post">
                            {{ form.hidden_tag() }}
                            <button type="submit" class="blue_button">Like</button> {{ message.likes.count() }}
                        </form>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
