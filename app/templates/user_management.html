{% extends "layout.html" %}

{% block content %}
<div class="container">
    <a href="{{ url_for('admin.admin_dashboard') }}" class="button">Back to Admin Dashboard</a> 

    <h1>User Management</h1>

    <div class="user-select">
        <label for="userDropdown">Select a user:</label>
        <select id="userDropdown">
            <option value="">Select a user</option>
            {% for user in users %}
            <option value="{{ user.id }}">{{ user.username }}</option>
            {% endfor %}
        </select>
    </div>

    <div id="userDetails" class="user-details" style="display:none;">
        <form id="userForm" action="" method="post" onsubmit="return confirmUpdate()">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <div class="form-group">
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" class="form-control">
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" class="form-control">
            </div>
            <div class="form-group">
                <label for="is_admin">Is Admin:</label>
                <input type="checkbox" id="is_admin" name="is_admin" class="form-control">
            </div>
            <div class="form-group">
                <label for="is_super_admin">Is Super Admin:</label>
                <input type="checkbox" id="is_super_admin" name="is_super_admin" class="form-control">
            </div>
            <div class="form-group">
                <label for="license_agreed">License Agreed:</label>
                <input type="checkbox" id="license_agreed" name="license_agreed" class="form-control">
            </div>
            <div class="form-group">
                <label for="score">Score:</label>
                <input type="number" id="score" name="score" class="form-control">
            </div>
            <div class="form-group">
                <label for="display_name">Display Name:</label>
                <input type="text" id="display_name" name="display_name" class="form-control">
            </div>
            <div class="form-group">
                <label for="profile_picture">Profile Picture:</label>
                <input type="text" id="profile_picture" name="profile_picture" class="form-control">
            </div>
            <div class="form-group">
                <label for="age_group">Age Group:</label>
                <input type="text" id="age_group" name="age_group" class="form-control">
            </div>
            <div class="form-group">
                <label for="interests">Interests:</label>
                <input type="text" id="interests" name="interests" class="form-control">
            </div>
            <div class="form-group">
                <label for="email_verified">Email Verified:</label>
                <input type="checkbox" id="email_verified" name="email_verified" class="form-control">
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Update User</button>
            </div>
        </form>

        <form id="deleteUserForm" action="" method="post" onsubmit="return confirmDelete()">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button type="submit" class="btn btn-danger">Delete User</button>
        </form>
    </div>
</div>
<script src="{{ url_for('static', filename='js/user_management.js') }}"></script>
{% endblock %}
